{"ast":null,"code":"var _jsxFileName = \"/home/seq_mahesh/Projects/LLM/ProjectWorkspace/llm-lab/global-news-tracker/FE/src/components/Analytics.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { topics } from \"../api\";\nimport { Pie, Bar } from \"react-chartjs-2\";\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement } from \"chart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement);\nexport default function Analytics() {\n  _s();\n  const [data, setData] = useState(null);\n  const [clusters, setClusters] = useState(5);\n  const load = async () => {\n    try {\n      const r = await topics(clusters);\n      setData(r.data);\n    } catch (e) {\n      console.error(e);\n      setData(null);\n    }\n  };\n  useEffect(() => {\n    load();\n  }, [clusters]);\n  if (!data) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }, this);\n  const pieLabels = data.topics.map(t => `Topic ${t.cluster}`);\n  const pieData = data.topics.map(t => t.count);\n  const barLabels = data.topics.map(t => `T${t.cluster}: ${t.top_terms.slice(0, 3).join(\", \")}`);\n  const colors = [\"#4facfe\", \"#43e97b\", \"#f093fb\", \"#f5576c\", \"#30cfd0\", \"#ff9a9e\", \"#a18cd1\", \"#f6d365\", \"#5ee7df\", \"#c79081\", \"#c471ed\", \"#f7797d\"];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Clusters: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: clusters,\n        min: 1,\n        max: 12,\n        onChange: e => setClusters(Number(e.target.value))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: load,\n        style: {\n          marginLeft: 8\n        },\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"charts\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Topic distribution (pie)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pie, {\n          data: {\n            labels: pieLabels,\n            datasets: [{\n              data: pieData,\n              backgroundColor: colors.slice(0, pieData.length)\n            }]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Topics (bar)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: {\n            labels: barLabels,\n            datasets: [{\n              label: \"Items\",\n              data: pieData,\n              backgroundColor: colors.slice(0, pieData.length)\n            }]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Topic details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), data.topics.map(t => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid #ddd\",\n          padding: 8,\n          marginBottom: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"Topic \", t.cluster, \" \\u2014 \", t.count, \" items\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Top terms: \", t.top_terms.join(\", \")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)]\n      }, t.cluster, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(Analytics, \"OfurD4fpf8nUVfnblZwZhE9lUco=\");\n_c = Analytics;\nvar _c;\n$RefreshReg$(_c, \"Analytics\");","map":{"version":3,"names":["React","useEffect","useState","topics","Pie","Bar","Chart","ChartJS","ArcElement","Tooltip","Legend","CategoryScale","LinearScale","BarElement","jsxDEV","_jsxDEV","register","Analytics","_s","data","setData","clusters","setClusters","load","r","e","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","pieLabels","map","t","cluster","pieData","count","barLabels","top_terms","slice","join","colors","type","value","min","max","onChange","Number","target","onClick","style","marginLeft","labels","datasets","backgroundColor","length","label","marginTop","border","padding","marginBottom","_c","$RefreshReg$"],"sources":["/home/seq_mahesh/Projects/LLM/ProjectWorkspace/llm-lab/global-news-tracker/FE/src/components/Analytics.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { topics } from \"../api\";\nimport { Pie, Bar } from \"react-chartjs-2\";\nimport {\n  Chart as ChartJS,\n  ArcElement,\n  Tooltip,\n  Legend,\n  CategoryScale,\n  LinearScale,\n  BarElement\n} from \"chart.js\";\n\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement);\n\nexport default function Analytics() {\n  const [data, setData] = useState(null);\n  const [clusters, setClusters] = useState(5);\n\n  const load = async () => {\n    try {\n      const r = await topics(clusters);\n      setData(r.data);\n    } catch (e) {\n      console.error(e);\n      setData(null);\n    }\n  };\n\n  useEffect(() => {\n    load();\n  }, [clusters]);\n\n  if (!data)\n    return (\n      <div className=\"panel\">\n        <h2>Analytics</h2>\n        <p>Loading...</p>\n      </div>\n    );\n\n  const pieLabels = data.topics.map((t) => `Topic ${t.cluster}`);\n  const pieData = data.topics.map((t) => t.count);\n  const barLabels = data.topics.map(\n    (t) => `T${t.cluster}: ${t.top_terms.slice(0, 3).join(\", \")}`\n  );\n\n  const colors = [\n    \"#4facfe\",\n    \"#43e97b\",\n    \"#f093fb\",\n    \"#f5576c\",\n    \"#30cfd0\",\n    \"#ff9a9e\",\n    \"#a18cd1\",\n    \"#f6d365\",\n    \"#5ee7df\",\n    \"#c79081\",\n    \"#c471ed\",\n    \"#f7797d\"\n  ];\n\n  return (\n    <div className=\"panel\">\n      <h2>Analytics</h2>\n      <div>\n        <label>Clusters: </label>\n        <input\n          type=\"number\"\n          value={clusters}\n          min={1}\n          max={12}\n          onChange={(e) => setClusters(Number(e.target.value))}\n        />\n        <button onClick={load} style={{ marginLeft: 8 }}>\n          Refresh\n        </button>\n      </div>\n\n      <div className=\"charts\">\n        <div className=\"chart\">\n          <h3>Topic distribution (pie)</h3>\n          <Pie\n            data={{\n              labels: pieLabels,\n              datasets: [\n                {\n                  data: pieData,\n                  backgroundColor: colors.slice(0, pieData.length)\n                }\n              ]\n            }}\n          />\n        </div>\n        <div className=\"chart\">\n          <h3>Topics (bar)</h3>\n          <Bar\n            data={{\n              labels: barLabels,\n              datasets: [\n                {\n                  label: \"Items\",\n                  data: pieData,\n                  backgroundColor: colors.slice(0, pieData.length)\n                }\n              ]\n            }}\n          />\n        </div>\n      </div>\n\n      <div style={{ marginTop: 16 }}>\n        <h4>Topic details</h4>\n        {data.topics.map((t) => (\n          <div\n            key={t.cluster}\n            style={{ border: \"1px solid #ddd\", padding: 8, marginBottom: 6 }}\n          >\n            <strong>\n              Topic {t.cluster} â€” {t.count} items\n            </strong>\n            <div>Top terms: {t.top_terms.join(\", \")}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}